(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1c189be4"],{bf99:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("d2-container",[a("template",{slot:"header"},[a("d2-icon",{attrs:{name:"cubes"}}),t._v(" 新建任务\n  ")],1),a("el-container",[a("el-main",[a("el-row",{attrs:{type:"flex",justify:"center"}},[a("el-col",{attrs:{span:14}},[a("el-card",[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[t._v("创建新的ASTracer任务")])]),a("el-form",{ref:"form",staticStyle:{margin:"5%"},attrs:{model:t.task,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"任务名称"}},[a("el-input",{attrs:{placeholder:"请输入任务名称"},model:{value:t.task.name,callback:function(e){t.$set(t.task,"name",e)},expression:"task.name"}})],1),a("el-form-item",{attrs:{label:"采样器"}},[a("el-radio-group",{model:{value:t.task.sampler,callback:function(e){t.$set(t.task,"sampler",e)},expression:"task.sampler"}},[a("el-radio",{attrs:{label:"概率采样"}}),a("el-radio",{attrs:{label:"系统采样"}}),a("el-radio",{attrs:{label:"Bump采样"}}),a("el-radio",{attrs:{label:"令牌桶采样"}})],1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit"}},[t._v("采样器配置")])],1),"概率采样"===t.task.sampler?a("div",[a("el-form-item",{attrs:{label:"采样概率"}},[a("el-input-number",{attrs:{precision:3,step:.001,max:1,min:0},model:{value:t.task.probability,callback:function(e){t.$set(t.task,"probability",e)},expression:"task.probability"}})],1)],1):t._e(),"系统采样"===t.task.sampler?a("div",[a("el-form-item",{attrs:{label:"采样间隔"}},[a("el-input-number",{attrs:{step:10,min:0},model:{value:t.task.count,callback:function(e){t.$set(t.task,"count",e)},expression:"task.count"}})],1)],1):t._e(),"Bump采样"===t.task.sampler?a("div",[a("el-form-item",{attrs:{label:"lambda"}},[a("el-input-number",{attrs:{step:100,min:0},model:{value:t.task.lambda,callback:function(e){t.$set(t.task,"lambda",e)},expression:"task.lambda"}})],1),a("el-form-item",{attrs:{label:"最低采样概率"}},[a("el-input-number",{attrs:{precision:3,step:.001,max:1,min:0},model:{value:t.task.probability,callback:function(e){t.$set(t.task,"probability",e)},expression:"task.probability"}})],1)],1):t._e(),"令牌桶采样"===t.task.sampler?a("div",[a("el-form-item",{attrs:{label:"令牌桶大小"}},[a("el-input-number",{attrs:{step:100,min:0},model:{value:t.task.bsize,callback:function(e){t.$set(t.task,"bsize",e)},expression:"task.bsize"}})],1),a("el-form-item",{attrs:{label:"replenish rate"}},[a("el-input-number",{attrs:{step:10,min:0},model:{value:t.task.brate,callback:function(e){t.$set(t.task,"brate",e)},expression:"task.brate"}})],1)],1):t._e(),a("el-form-item",{attrs:{label:"任务描述"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入任务描述",rows:6},model:{value:t.task.desc,callback:function(e){t.$set(t.task,"desc",e)},expression:"task.desc"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("立即创建")]),a("el-button",{on:{click:t.cancel}},[t._v("取消")])],1)],1)],1)],1),a("el-col",{attrs:{span:10,offset:1}},[a("el-card",[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[t._v("关于ASTracer采样")])]),a("el-collapse",{attrs:{accordion:""},model:{value:t.task.sampler,callback:function(e){t.$set(t.task,"sampler",e)},expression:"task.sampler"}},[a("el-collapse-item",{attrs:{title:"概率采样",name:"概率采样"}},[a("div",[t._v("使用用户设定的采样概率进行采样")]),a("div",[t._v("建议设定采样率为0.001，如果采样率过低，会造成较大的性能影响；采样率过低，会导致大部分函数调用消失。")])]),a("el-collapse-item",{attrs:{title:"系统采样",name:"系统采样"}},[a("div",[t._v("间隔采样")]),a("div",[t._v("根据采样到的函数的个数进行间隔采样")])]),a("el-collapse-item",{attrs:{title:"Bump采样",name:"Bump采样"}},[a("div",[t._v("使用Bump函数进行采样")]),a("div",[t._v("自适应采样，当某一函数执行次数过多时，会进行背压；当执行次数过少时，会提高采样概率")])]),a("el-collapse-item",{attrs:{title:"令牌桶采样",name:"令牌桶采样"}},[a("div",[t._v("令牌桶采样")]),a("div",[t._v("自适应采样器，保留完整的函数种类的同时，也能保证能够应对峰值造成的性能压力。")])])],1)],1)],1)],1)],1)],1)],2)},r=[],l=(a("7f7f"),a("e053")),n={data:function(){return{task:{name:"",sampler:"概率采样",probability:.001,count:100,lambda:1e3,bsize:1e3,brate:20,desc:""},select:"1"}},methods:{onSubmit:function(){var t=this;""!==this.task.name?(this.$store.commit("hdfs/setTask",this.task),Object(l["a"])(this.task).then(function(e){0===e.status?(t.$notify.success({title:"成功",message:"创建成功, 即将跳转到任务清单",duration:3e3}),setTimeout(function(){t.$router.push({name:"history"})},1e3)):t.$notify.error({title:"警告",message:"重复命名"})})):this.$notify.error({title:"错误",message:"必须填写任务名称",duration:2e3})},cancel:function(){this.task={name:"",sampler:"概率采样",probability:.001,count:100,lambda:1e3,bsize:1e3,brate:20,desc:""},this.$notify.info({title:"消息",message:"取消成功",duration:2e3})}}},i=n,o=a("2877"),c=Object(o["a"])(i,s,r,!1,null,"5a77b435",null);c.options.__file="index.vue";e["default"]=c.exports},e053:function(t,e,a){"use strict";a.d(e,"c",function(){return r}),a.d(e,"d",function(){return l}),a.d(e,"e",function(){return n}),a.d(e,"a",function(){return i}),a.d(e,"g",function(){return o}),a.d(e,"h",function(){return c}),a.d(e,"b",function(){return m}),a.d(e,"f",function(){return u});a("cadf"),a("551c"),a("097d");var s=a("9bd2");function r(t){return Object(s["a"])({url:"/hdfs/getcalltree",method:"GET",params:t})}function l(t){return Object(s["a"])({url:"/hdfs/getfuncfeature",method:"GET",params:t})}function n(t){return Object(s["a"])({url:"/hdfs/gettimeline",method:"GET",params:t})}function i(t){return Object(s["a"])({url:"/hdfs/createtask",method:"GET",params:t})}function o(){return Object(s["a"])({url:"/hdfs/gettasklist",method:"GET"})}function c(t){return Object(s["a"])({url:"/hdfs/refresh",method:"GET",params:t})}function m(t){return Object(s["a"])({url:"/hdfs/delete",method:"GET",params:t})}function u(t){return Object(s["a"])({url:"/hdfs/gettracedetail",method:"GET",params:t})}}}]);
//# sourceMappingURL=chunk-1c189be4.8f17040a.js.map