(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-410f7d6c"],{"5b1a":function(o,e,t){"use strict";t.r(e);var r=function(){var o=this,e=o.$createElement,t=o._self._c||e;return t("d2-container",[t("template",{slot:"header"},[o._v("\n        BigRoot 分析报告\n    ")]),o._v(" "),o._l(o.slaves,(function(e,r){return o.slaves?t("div",{key:r},[t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:16}},[t("el-card",[t("div",{attrs:{slot:"header"},slot:"header"},[t("strong",[o._v(o._s(e.host))]),o._v(" Straggler分析")]),o._v(" "),t("div",{staticStyle:{height:"400px"},attrs:{id:"slave"+(r+1)}})])],1),o._v(" "),t("el-col",{attrs:{span:8}},[t("el-tabs",{attrs:{type:"border-card"}},[t("el-tab-pane",{attrs:{label:e.host+"-straggler种类统计"}},[t("div",{staticStyle:{height:"428px"},attrs:{id:"pie"+(r+1)}})]),o._v(" "),t("el-tab-pane",{attrs:{label:e.host+"-straggler信息"}},[t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.table,border:"",height:"428"}},[t("el-table-column",{attrs:{type:"index"}}),o._v(" "),t("el-table-column",{attrs:{prop:"start",label:"time-start(s)"}}),o._v(" "),t("el-table-column",{attrs:{prop:"end",label:"time-end(s)"}}),o._v(" "),t("el-table-column",{attrs:{prop:"factor",label:"straggler-scala"}}),o._v(" "),t("el-table-column",{attrs:{prop:"root-cause",label:"root-cause"}})],1)],1)],1)],1)],1),o._v(" "),t("br")],1):o._e()}))],2)},l=[],a=t("313e"),n=t.n(a),s=(t("ac6a"),t("75fc")),i=t("5176"),d=t.n(i),c=function(o,e,t){o[0]=0,e[0]=0,t[0]=0;for(var r=20;r<40;r++)e[r]=(.7+Math.random()/50).toFixed(2),e[r+50]=(.7+Math.random()/50).toFixed(2);for(var l=30;l<60;l++)t[l]=(t[l]/5).toFixed(2);for(var a=60;a<70;a++)e[a]=(e[a]/3).toFixed(2);for(var n=20;n<100;n++)o[n]=(o[n]/2).toFixed(2);for(var s=1;s<20;s++)e[s]=(e[s]/10).toFixed(2),t[s]=(t[s]/10).toFixed(2),o[s]=(o[s]/10).toFixed(2);for(var i=45;i<55;i++)o[i]=(.5+Math.random()/50).toFixed(2);return{cpu:e,io:t,network:o}},m={getOption:function(o,e,t,r){var l=c(e,t,r);e=l.network,t=l.cpu,r=l.io;var a={type:"line",silent:!0,animation:!1,symbolSize:0,hoverAnimation:!1,lineStyle:{normal:{width:3}}},n={tooltip:{trigger:"axis"},legend:{color:["#F58080","#47D8BE","#F9A589"],data:["NetWork","CPU","IO","c-straggler","i-straggler","n-straggler"],left:"center",bottom:"bottom"},grid:{top:"middle",left:"3%",right:"4%",bottom:"3%",height:"80%",containLabel:!0},xAxis:{type:"category",data:o,axisLine:{lineStyle:{color:"#999"}}},yAxis:[{type:"value",name:"feature scale",splitLine:{lineStyle:{type:"dashed",color:"#DDD"}},axisLine:{show:!1,lineStyle:{color:"#333"}},nameTextStyle:{color:"#999"},splitArea:{show:!1}},{type:"value",name:"straggler",min:0,max:10,splitLine:{lineStyle:{type:"dashed",color:"#DDD"}},axisLine:{show:!1,lineStyle:{color:"#333"}},nameTextStyle:{color:"#999"},splitArea:{show:!1}}],series:[{name:"NetWork",type:"line",data:e,color:"#F58080",lineStyle:{normal:{width:2,color:{type:"linear",colorStops:[{offset:0,color:"#FFCAD4"},{offset:.4,color:"#F58080"},{offset:1,color:"#F58080"}],globalCoord:!1},shadowColor:"rgba(245,128,128, 0.5)",shadowBlur:10,shadowOffsetY:7}},itemStyle:{normal:{color:"#F58080",borderWidth:3,borderColor:"#F58080"}},smooth:!0},{name:"CPU",type:"line",data:t,lineStyle:{normal:{width:2,color:{type:"linear",colorStops:[{offset:0,color:"#AAF487"},{offset:.4,color:"#47D8BE"},{offset:1,color:"#47D8BE"}],globalCoord:!1},shadowColor:"rgba(71,216,190, 0.5)",shadowBlur:10,shadowOffsetY:7}},itemStyle:{normal:{color:"#AAF487",borderWidth:3,borderColor:"#AAF487"}},smooth:!0},{name:"IO",type:"line",data:r,lineStyle:{normal:{width:2,color:{type:"linear",colorStops:[{offset:0,color:"#F6D06F"},{offset:.4,color:"#F9A589"},{offset:1,color:"#F9A589"}],globalCoord:!1},shadowColor:"rgba(249,165,137, 0.5)",shadowBlur:10,shadowOffsetY:7}},itemStyle:{normal:{color:"#F6D06F",borderWidth:3,borderColor:"#F6D06F"}},smooth:!0}]};return n.series.push(d()({name:"straggler",markLine:{silent:!1,animation:!1,label:{normal:{position:"middle",fontSize:12}},lineStyle:{normal:{color:"#626c91",type:"dotted",width:3},emphasis:{color:"#d9def7"}},data:[[{symbol:"none",name:"CPU-AG",coord:[20,1]},{symbol:"none",coord:[40,1]}],[{symbol:"none",name:"IO-AG",coord:[70,1]},{symbol:"none",coord:[90,1]}],[{symbol:"none",name:"network-AG",coord:[45,1]},{symbol:"none",coord:[55,1]}]]}},a)),n.series.push(d()({name:"c-straggler",markLine:{silent:!1,animation:!1,label:{normal:{position:"start"}},lineStyle:{normal:{color:"#626c91",type:"solid",width:5},emphasis:{color:"#d9def7"}},data:[[{symbol:"none",name:"cpu",coord:[19,.5]},{symbol:"none",coord:[27,.5]}],[{symbol:"none",name:"cpu",coord:[19,.48]},{symbol:"none",coord:[26.5,.48]}],[{symbol:"none",name:"cpu",coord:[19,.46]},{symbol:"none",coord:[26,.46]}],[{symbol:"none",name:"cpu",coord:[85,.6]},{symbol:"none",coord:[88,.6]}],[{symbol:"none",name:"cpu",coord:[85,.58]},{symbol:"none",coord:[88,.58]}]]}},a)),n.series.push(d()({name:"i-straggler",markLine:{silent:!1,animation:!1,label:{normal:{position:"start"}},lineStyle:{normal:{color:"#1a2940",type:"solid",width:5},emphasis:{color:"#d9def7"}},data:[[{symbol:"none",name:"io",coord:[60,.25]},{symbol:"none",coord:[64,.25]}],[{symbol:"none",name:"io",coord:[60,.3]},{symbol:"none",coord:[64,.3]}]]}},a)),n.series.push(d()({name:"n-straggler",markLine:{silent:!1,animation:!1,label:{normal:{position:"start"}},lineStyle:{normal:{color:"#333333",type:"solid",width:5},emphasis:{color:"#d9def7"}},data:[[{symbol:"none",name:"network",coord:[40,.3]},{symbol:"none",coord:[44,.3]}]]}},a)),n},getSlaveOption:function(o,e,t,r,l,a){var n={type:"line",silent:!0,animation:!1,symbolSize:0,hoverAnimation:!1,lineStyle:{normal:{width:3}}},i={tooltip:{trigger:"axis"},legend:{color:["#F58080","#47D8BE","#F9A589"],data:["NetWork","CPU","IO"],left:"center",top:"top"},grid:{top:"middle",left:"3%",right:"4%",bottom:"3%",height:"80%",containLabel:!0},xAxis:{type:"category",data:Object(s["a"])(Array(r).keys()),axisLine:{lineStyle:{color:"#999"}}},yAxis:[{type:"value",name:"feature scale",splitLine:{lineStyle:{type:"dashed",color:"#DDD"}},axisLine:{show:!1,lineStyle:{color:"#333"}},nameTextStyle:{color:"#999"},splitArea:{show:!1}},{type:"value",name:"straggler scala",min:0,max:Math.ceil(l),splitLine:{lineStyle:{type:"dashed",color:"#DDD"}},axisLine:{show:!1,lineStyle:{color:"#333"}},nameTextStyle:{color:"#999"},splitArea:{show:!1}}],series:[{name:"NetWork",type:"line",data:t,color:"#F58080",lineStyle:{normal:{width:2,color:{type:"linear",colorStops:[{offset:0,color:"#FFCAD4"},{offset:.4,color:"#F58080"},{offset:1,color:"#F58080"}],globalCoord:!1},shadowColor:"rgba(245,128,128, 0.5)",shadowBlur:10,shadowOffsetY:7}},itemStyle:{normal:{color:"#F58080",borderWidth:3,borderColor:"#F58080"}},smooth:!0},{name:"CPU",type:"line",data:o,lineStyle:{normal:{width:2,color:{type:"linear",colorStops:[{offset:0,color:"#AAF487"},{offset:.4,color:"#47D8BE"},{offset:1,color:"#47D8BE"}],globalCoord:!1},shadowColor:"rgba(71,216,190, 0.5)",shadowBlur:10,shadowOffsetY:7}},itemStyle:{normal:{color:"#AAF487",borderWidth:3,borderColor:"#AAF487"}},smooth:!0},{name:"IO",type:"line",data:e,lineStyle:{normal:{width:2,color:{type:"linear",colorStops:[{offset:0,color:"#F6D06F"},{offset:.4,color:"#F9A589"},{offset:1,color:"#F9A589"}],globalCoord:!1},shadowColor:"rgba(249,165,137, 0.5)",shadowBlur:10,shadowOffsetY:7}},itemStyle:{normal:{color:"#F6D06F",borderWidth:3,borderColor:"#F6D06F"}},smooth:!0}],dataZoom:[{type:"slider",show:!0,xAxisIndex:0,start:0,end:100},{type:"inside",xAxisIndex:0,start:0,end:100}]};return i.series.push(d()({name:"c-straggler",markLine:{silent:!1,animation:!1,label:{normal:{position:"start"}},lineStyle:{normal:{color:"#626c91",type:"solid",width:5},emphasis:{color:"#d9def7"}},data:a}},n)),i},getPieOption:function(o,e){var t={tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{orient:"vertical",left:"left",data:o},series:[{name:"原因",type:"pie",radius:"55%",center:["50%","60%"],data:e,label:{show:!0,formatter:"{b}: {d}%"},itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]};return t}},p=t("ee64"),h={name:"index",data:function(){return{slaves:null}},mounted:function(){var o=this,e=this.$store.state.bigroot.currentTaskName;""===e?(this.$router.push({name:"history"}),this.$notify({title:"注意",message:"请选择或创建task",type:"warning"})):Object(p["b"])({name:e}).then((function(e){o.slaves=e.data,console.log(e.data),o.$nextTick((function(){o.renderSlaves(o.slaves)}))}))},methods:{renderSlaves:function(o){for(var e=1;e<=o.length;e++){var t=o[e-1],r=n.a.init(document.getElementById("slave"+e)),l=m.getSlaveOption(t.cpu,t.io,t.net,t.time,t.scala,t.tasks);r.setOption(l);var a=n.a.init(document.getElementById("pie"+e));a.setOption(m.getPieOption(t.label,t.pie_data))}}}},y=h,b=t("2877"),f=Object(b["a"])(y,r,l,!1,null,"74557d76",null);e["default"]=f.exports},ee64:function(o,e,t){"use strict";t.d(e,"b",(function(){return l})),t.d(e,"c",(function(){return a})),t.d(e,"a",(function(){return n}));var r=t("9bd2");function l(o){return Object(r["a"])({url:"/bigroot/getstraggler",method:"GET",params:o})}function a(o){return Object(r["a"])({url:"/bigroot/gettasklist",method:"GET",params:o})}function n(o){return Object(r["a"])({url:"/bigroot/delete",method:"GET",params:o})}}}]);
//# sourceMappingURL=chunk-410f7d6c.7d63702d.js.map